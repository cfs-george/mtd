<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MTD Simple Prototype</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px auto;
      max-width: 800px;
      background-color: #f5f7fa;
      color: #222;
      transition: background-color 0.3s, color 0.3s;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .dark-mode {
      background-color: #121212;
      color: #f0f0f0;
    }

    button {
      background: #6CA5AC;
      border: none;
      color: white;
      padding: 8px 14px;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #91e5f0;
    }

    .section {
      margin-top: 20px;
      background: white;
      padding: 16px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
      transition: background-color 0.3s;
    }

    .dark-mode .section {
      background: #1e1e1e;
    }

    input, select {
      padding: 6px;
      margin: 6px 0;
      border: 1px solid #ccc;
      border-radius: 4px;
      width: 100%;
      box-sizing: border-box;
      background: #fff;
      color: #000;
    }

    .dark-mode input, 
    .dark-mode select {
      background: #2a2a2a;
      color: #fff;
      border-color: #444;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }

    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }

    .dark-mode th, .dark-mode td {
      border-color: #444;
    }

    .summary {
      font-weight: bold;
      margin-top: 10px;
    }

    /* Tabs */
    .tabs {
      display: flex;
      border-bottom: 2px solid #ccc;
      margin-bottom: 20px;
    }

    .tab {
      padding: 10px 20px;
      cursor: pointer;
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
      background: #e9ecef;
      margin-right: 5px;
      transition: background 0.2s;
    }

    .tab:hover {
      background: #d7dde3;
    }

    .tab.active {
      background: white;
      border-bottom: 2px solid white;
      font-weight: bold;
    }

    .dark-mode .tab {
      background: #2a2a2a;
      color: #ddd;
      border-color: #444;
    }

    .dark-mode .tab.active {
      background: #1e1e1e;
      border-bottom: 2px solid #1e1e1e;
      color: #fff;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

  </style>
</head>
<body>
  <header>
    <h1>MTD Simple Prototype</h1>
    <button id="darkModeToggle">üåô Dark Mode</button>
  </header>

  <div class="tabs">
    <div class="tab active" onclick="showTab('profile')">Business Profile</div>
    <div class="tab" onclick="showTab('income')">Income</div>
    <div class="tab" onclick="showTab('expenses')">Expenses</div>
    <div class="tab" onclick="showTab('summary')">Summary</div>
  </div>

  <section id="profile" class="section tab-content active">
    <h2>Business Profile</h2>
    <div id="profileDisplay">
      <p><strong>Business Name:</strong> <span id="displayName">Not set</span></p>
      <p><strong>VAT Number:</strong> <span id="displayVAT">Not set</span></p>
      <p><strong>Accounting Period:</strong> <span id="displayPeriod">Not set</span></p>
    </div>
    <form id="profileForm">
      <input type="text" id="businessName" placeholder="Business Name" required />
      <input type="text" id="vatNumber" placeholder="VAT Number" />
      <input type="text" id="accountingPeriod" placeholder="Accounting Period (e.g. 2024‚Äì2025)" />
      <button type="submit">Update Profile</button>
    </form>
  </section>

  <section id="income" class="section tab-content">
    <h2>Record Income</h2>
    <form id="incomeForm">
      <input type="date" id="incomeDate" required />
      <input type="number" id="incomeAmount" placeholder="Amount (¬£)" required />
      <select id="incomeCategory">
        <option>Client Payment</option>
        <option>Grant or Funding</option>
        <option>Asset Sale</option>
        <option>Interest Income</option>
      </select>
      <input type="text" id="incomeDescription" placeholder="Description" />
      <button type="submit">Add Income</button>
    </form>
    <table id="incomeTable">
      <tr><th>Date</th><th>Amount</th><th>Category</th><th>Description</th></tr>
    </table>
  </section>

  <section id="expenses" class="section tab-content">
    <h2>Record Expense</h2>
    <form id="expenseForm">
      <input type="date" id="expenseDate" required />
      <input type="number" id="expenseAmount" placeholder="Amount (¬£)" required />
      <select id="expenseCategory">
        <option>Office Supplies</option>
        <option>Travel</option>
        <option>Equipment</option>
        <option>Utilities</option>
        <option>Other</option>
      </select>
      <input type="text" id="expenseDescription" placeholder="Description" />
      <button type="submit">Add Expense</button>
    </form>
    <table id="expenseTable">
      <tr><th>Date</th><th>Amount</th><th>Category</th><th>Description</th></tr>
    </table>
  </section>

  <section id="summary" class="section tab-content">
    <h2>Summary</h2>
    <div class="summary">
      Total Income: ¬£<span id="totalIncome">0</span><br>
      Total Expenses: ¬£<span id="totalExpenses">0</span><br>
      Net Total: ¬£<span id="netTotal">0</span>
    </div>
  </section>

  <script>
    const incomeForm = document.getElementById('incomeForm');
    const expenseForm = document.getElementById('expenseForm');
    const incomeTable = document.getElementById('incomeTable');
    const expenseTable = document.getElementById('expenseTable');
    const totalIncomeEl = document.getElementById('totalIncome');
    const totalExpensesEl = document.getElementById('totalExpenses');
    const netTotalEl = document.getElementById('netTotal');
    const darkModeToggle = document.getElementById('darkModeToggle');
    const profileForm = document.getElementById('profileForm');

    let totalIncome = 0;
    let totalExpenses = 0;

    function showTab(tabId) {
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(section => section.classList.remove('active'));
      document.querySelector(`.tab[onclick="showTab('${tabId}')"]`).classList.add('active');
      document.getElementById(tabId).classList.add('active');
    }

    incomeForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const date = incomeDate.value;
      const amount = parseFloat(incomeAmount.value);
      const category = incomeCategory.value;
      const desc = incomeDescription.value;
      const row = incomeTable.insertRow();
      row.innerHTML = `<td>${date}</td><td>¬£${amount.toFixed(2)}</td><td>${category}</td><td>${desc}</td>`;
      totalIncome += amount;
      updateSummary();
      incomeForm.reset();
    });

    expenseForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const date = expenseDate.value;
      const amount = parseFloat(expenseAmount.value);
      const category = expenseCategory.value;
      const desc = expenseDescription.value;
      const row = expenseTable.insertRow();
      row.innerHTML = `<td>${date}</td><td>¬£${amount.toFixed(2)}</td><td>${category}</td><td>${desc}</td>`;
      totalExpenses += amount;
      updateSummary();
      expenseForm.reset();
    });

    profileForm.addEventListener('submit', (e) => {
      e.preventDefault();
      document.getElementById('displayName').textContent = businessName.value || 'Not set';
      document.getElementById('displayVAT').textContent = vatNumber.value || 'Not set';
      document.getElementById('displayPeriod').textContent = accountingPeriod.value || 'Not set';
      profileForm.reset();
    });

    function updateSummary() {
      totalIncomeEl.textContent = totalIncome.toFixed(2);
      totalExpensesEl.textContent = totalExpenses.toFixed(2);
      netTotalEl.textContent = (totalIncome - totalExpenses).toFixed(2);
    }

    darkModeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      darkModeToggle.textContent =
        document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
    });
  </script>
</body>
</html>